@import 'normalize.css'
@import 'nib'
@import url("http://fonts.googleapis.com/css?family=Chelsea\+Market")

$header_width = 160px
$link_color = hsl(206, 80%, 30%)

body, html
    width 100%
    height 100%

body
    font-size 10px
    color #444
    background-color #fff

body > header 
    width 100%

$header_padding = 50px

body > header .header-inner    
    padding $header_padding
    font-family 'Chelsea Market'
    position relative
    clearfix()
    .logo
        width 150px
        opacity .8
        img
            width 150px
            display block
        .animated-logo
            display none
        &:hover
            .static-logo
                display none
            .animated-logo
                display block

    > nav
        position relative
        width 100%
        font-size 2em
        ul
            overflow hidden
            height 0
            text-align right
            list-style none
            margin 0
            padding 0
            li
                margin 0.5em
                a 
                    color lighten(black, 40%)
                    text-decoration none
                    transition .2s border, .5s opacity
                    border-bottom 3px solid transparent
                    &:hover
                        color $link_color
                        border-bottom 3px solid @color
    > nav.open  ul
        height auto

#nav-toggler 
    position absolute
    top -60px
    right 0
    padding 10px
    margin -10px
    .symbol span
        background-color lighten(black, 10%)


.banner, .gallery
    width 100%
    min-height 160px
    box-shadow inset 0  30px 30px -30px rgba(0, 0, 0, .75),
               inset 0 -30px 30px -30px rgba(0, 0, 0, .75)

$banner_background_color = lighten(#313947, 5%)

.banner, .gallery, article.teaser
    background-size cover
    background-color $banner_background_color
    background-repeat no-repeat
    background-position center center

.banner h1
    margin 0
    font-size 13em
    text-shadow 0 0 0.08em black
    transition text-shadow 0.5s, color 0.5s
    span 
        display block
        position absolute
        left 0
        top 0
        font-size 0.2em
        text-shadow none

.banner-inner
    position relative
    overflow hidden
    width 100%
    height 100%
    font-weight thin
    color white

.banner.closed
    min-height 0
    height 100px

.banner.open
    h1 
        color rgba(white, .50)
        text-shadow 0.02em 0.04em 0.05em $banner_background_color, 
                    0 0 0 #000

.symbol 
    display inline-block
    width 25px
    margin-right 10px
    span
        display block
        width 100%
        height 3px
        background-color white
        margin-bottom 6px
        border-radius 2px
    span:last-child
        margin-bottom 0

#banner-opener
    position absolute
    top 50px
    right 10px
    display block
    padding 8px
    overflow hidden
    font-size 1.5em
    transition width 0.5s
    color white
    text-decoration none
    .banner-opener-inner
        width 100%
        > span 
            vertical-align middle
    &:hover
        width auto
        background-color white
        color $banner_background_color
        .symbol span
            background-color $banner_background_color

.archive
    margin-bottom 50px
    font-size 1.5em
    li 
        margin-bottom 0.5em
    a 
        color white
    a:hover
        text-decoration none

.roll
    display inline-block
    overflow hidden
    vertical-align top
    perspective 400px
    perspective-origin 50% 50%

    span
        display block
        position relative
        padding 0 2px
        transition all 400ms ease
        transform-origin 50% 0%
        transform-style preserve-3d

    &:hover span 
        background #111
        transform translate3d(0px, 0px, -30px) rotateX(90deg)

    span:after
        content attr(data-title)
        display block
        position absolute
        left 0
        top 0
        padding 0 2px
        color #fff
        background $link_color
        transform-origin 50% 0%
        transform translate3d(0px, 105%, 0px) rotateX(-90deg)

    span, span:after
        border-radius 2px


.content
    font normal normal 1em/1.8em 'Helvetica Neue', Helvetica, Arial, sans-serif
    //min-height 100%
    //height auto !important
    //height 100%

body > footer
    min-height 100px
    padding 0 100px
    border-top 3px solid darken(white, 5%)
    overflow hidden
    text-align center
    img.logo
        width 200px
        position relative
        top -50px
        opacity 0.2


.gallery-inner
    min-height 300px
    padding 50px 0
    color white
    text-align center
    text-shadow 0 2px 1px rgba(0, 0, 0, .5)
    h1
        font-family 'Chelsea Market'
        font-size 5em
        line-height 1.618
        margin 0
        padding 0
    p
        font-size 2em

article
    > header 
        h1 a
            color #444
            text-decoration none
            border none

article.teaser
    width 100%
    > header
        padding 0
        min-height 150px
        position relative
        background-color rgba(255, 255, 255, .3)
        transition .5s background-color
        h1
            border-left 10px solid rgba(0, 0, 0, .2)
            margin 0
            padding 10px 100px 10px 10px
            text-transform uppercase
            font-family 'Chelsea Market'
            font-size 3em
            line-height 1em
            position absolute
            bottom 0
            z-index 1
            transition .5s border
            a 
                hyphens auto
        .date
            text-align center
            position absolute
            font-family 'Chelsea Market'
            right 0px
            bottom 0px
            font-size 8em
            color darken(white, 5%)
            text-shadow 0 -1px 0 rgba(0,0,0,.3)
            z-index 0
            span
                display block
                font-size 0.2em
                margin-top 1.5em

article.teaser:hover
    > header 
        background-color rgba(255, 255, 255, .5)
        h1
            border-color rgba(0, 0, 0, .5)

.cover
    cursor pointer

.cover.open
    transition height 1s

article.post
    > header
        margin 30px 0
        padding 20px 0
        position relative
        width 100%
        h1
            margin 0
            font-family 'Chelsea Market'
            text-transform uppercase
            font-size 4em
            line-height 1em
            a
                border none
        .date
            font-size 1.5em
    
    > section
        margin-bottom 50px

    .post-content
        h1, h2, h3, h4, h5, h6
            position relative
            &:before
                content ""
                width 1em
                height 0.5em
                position absolute
                bottom -0.40em 
                left -0.40em
                border-left 3px solid darken(white, 10%)
                border-bottom @border-left

    .post-content, .relations
        a 
            padding 1px 2px
            margin -1px 0
            color $link_color
            transition background-color 0.5s, color 0.5s
            border-radius 2px
        a:hover
            color white
            background-color $link_color
            text-decoration none
        a:active
            position relative
            top 1px

    p, ul, ol
        font-size 1.6em
        line-height 1.8em

.relations
    > div
        padding-top 1em
    p 
        margin 0

generate_custom_share_button_style(background-color)
    &:hover
        background-color background-color
        border-color darken(@background-color, 10%)

.social-actions
    text-align center
    font-size 1.8em

    a, a:visited
        line-height 3em 
        background-color #fbfbfb
        display inline-block 
        border 1px solid #ebebeb 
        border-left 0px
        color #9b9b9b
        text-decoration none 
        transition color 0.5s, background-color 0.5s, border-color 0.5s, transform

        &:first-child
            border-left 1px solid #ebebeb 
            border-top-left-radius 2px
            border-bottom-left-radius @border-top-left-radius

        &:last-child
            border-top-right-radius 2px
            border-bottom-right-radius @border-top-right-radius

        &:hover
            color white
            transform scale(1.1)

        &:active
            box-shadow inset 0 0.15em 0.3em rgba(0,0,0,0.3)

        &.facebook-share
            generate_custom_share_button_style(#175780)

        &.twitter-share
            generate_custom_share_button_style(#0faedb)

        &.google-plus-share
            generate_custom_share_button_style(#c73d00)


@media screen and (min-width: 600px)
    .archive > div 
        width 33%
        display inline-block
        vertical-align top

@media screen and (max-width: 799px)
    article.teaser
        //font-size 0.8em
    article.post 
        padding-left 50px
        padding-right @padding-left
        > header .date
            margin-top 10px
    .social-actions a 
        width 33%
        box-sizing border-box

@media screen and (max-width: 600px)
    article.post 
        padding-left 20px
        padding-right @padding-left

@media screen and (min-width: 800px)
    body > header .header-inner > nav
        position absolute
        bottom $header_padding + 20px
        right $header_padding
        font-size 2em
        width auto
        ul
            height auto
            text-align left
            li
                float left
                margin 0 0.5em
    #nav-toggler
        display none
    article.post 
        > header 
            position relative
            left -40px 
            padding-left 32px
            border-left 8px solid darken(white, 10%)
            &:hover
                border-color #444
            .date 
                text-align center
                position absolute
                font-family 'Chelsea Market'
                font-size 6em
                right 100%
                margin-right 35px
                top 35px
                span.date-description
                    display none
                span
                    display block
                    margin-top 1em
                    font-size 0.2em    
        > section
            margin-bottom 50px
            position relative
            header 
                position absolute
                right 100%
                padding-right 30px
                h1 
                    text-align right
                    border-right 8px solid darken(white, 10%)
                    padding 20px 30px 20px 0
                    margin 0
    .social-actions 
        a, a:visited 
            padding 0 2em

@media screen and (max-width: 959px) and (min-width: 800px)
    article.post
    body > footer
        width auto
        margin 0
        margin-left 180px
    body > header > .header-inner
        margin-left 130px
    article.post
        padding-right 50px

@media screen and (min-width: 960px)
    article.post
    article.teaser > header 
    .gallery-inner
    body > header .header-inner
    body > footer
        width 600px
        margin 0 auto
    .banner-inner
        width 800px
        margin 0 auto
    article.teaser
        > header
            padding 0 100px


